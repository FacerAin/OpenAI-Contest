{"ast":null,"code":"var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _react=_interopRequireWildcard(require(\"react\"));var _InteractionManager=_interopRequireDefault(require(\"react-native-web/dist/exports/InteractionManager\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _reactNativeSvg=require(\"react-native-svg\");var interpolate=_interopRequireWildcard(require(\"d3-interpolate-path\"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var AnimatedPath=function(_Component){(0,_inherits2.default)(AnimatedPath,_Component);function AnimatedPath(props){var _this;(0,_classCallCheck2.default)(this,AnimatedPath);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(AnimatedPath).call(this,props));_this.state={d:props.d};return _this;}(0,_createClass2.default)(AnimatedPath,[{key:\"componentDidUpdate\",value:function componentDidUpdate(props){var _this$props=this.props,newD=_this$props.d,animate=_this$props.animate;var oldD=props.d;this.newD=newD;if(newD===oldD){return;}if(!animate||newD===null||oldD===null){return;}this.newD=newD;this.interpolator=interpolate.interpolatePath(oldD,newD);this._animate();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){cancelAnimationFrame(this.animation);this._clearInteraction();}},{key:\"_animate\",value:function _animate(start){var _this2=this;cancelAnimationFrame(this.animation);this.animation=requestAnimationFrame(function(timestamp){if(!start){_this2._clearInteraction();_this2.handle=_InteractionManager.default.createInteractionHandle();start=timestamp;}var delta=(timestamp-start)/_this2.props.animationDuration;if(delta>1){_this2.component.setNativeProps({d:_this2.newD});_this2._clearInteraction();return;}var d=_this2.interpolator(delta);_this2.component.setNativeProps({d:d});_this2.setState(_this2.state,function(){_this2._animate(start);});});}},{key:\"_clearInteraction\",value:function _clearInteraction(){if(this.handle){_InteractionManager.default.clearInteractionHandle(this.handle);this.handle=null;}}},{key:\"render\",value:function render(){var _this3=this;return _react.default.createElement(_reactNativeSvg.Path,(0,_extends2.default)({ref:function ref(_ref){return _this3.component=_ref;}},this.props,{d:this.props.animate?this.state.d:this.props.d}));}}]);return AnimatedPath;}(_react.Component);AnimatedPath.propTypes=_objectSpread({animate:_propTypes.default.bool,animationDuration:_propTypes.default.number,renderPlaceholder:_propTypes.default.func},_reactNativeSvg.Path.propTypes);AnimatedPath.defaultProps={animate:false,animationDuration:300,renderPlaceholder:function renderPlaceholder(){return null;}};var _default=AnimatedPath;exports.default=_default;","map":{"version":3,"sources":["C:/Users/bluej/Desktop/2_2/searchGuide/searchGuide/node_modules/react-native-svg-charts/src/animated-path.js"],"names":["AnimatedPath","props","state","d","newD","animate","oldD","interpolator","interpolate","interpolatePath","_animate","cancelAnimationFrame","animation","_clearInteraction","start","requestAnimationFrame","timestamp","handle","InteractionManager","createInteractionHandle","delta","animationDuration","component","setNativeProps","setState","clearInteractionHandle","ref","Component","propTypes","PropTypes","bool","number","renderPlaceholder","func","Path","defaultProps"],"mappings":"g4BAAA,qD,4GAEA,6DACA,gDACA,wE,4xBAEMA,CAAAA,Y,sEACF,sBAAYC,KAAZ,CAAmB,2DACf,wGAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CAAEC,CAAC,CAAEF,KAAK,CAACE,CAAX,CAAb,CAHe,aAIlB,C,oGAEkBF,K,CAAO,iBACO,KAAKA,KADZ,CACXG,IADW,aACdD,CADc,CACLE,OADK,aACLA,OADK,IAEXC,CAAAA,IAFW,CAEFL,KAFE,CAEdE,CAFc,CAItB,KAAKC,IAAL,CAAYA,IAAZ,CAEA,GAAIA,IAAI,GAAKE,IAAb,CAAmB,CACf,OACH,CAED,GAAI,CAACD,OAAD,EAAYD,IAAI,GAAK,IAArB,EAA6BE,IAAI,GAAK,IAA1C,CAAgD,CAC5C,OACH,CAED,KAAKF,IAAL,CAAYA,IAAZ,CACA,KAAKG,YAAL,CAAoBC,WAAW,CAACC,eAAZ,CAA4BH,IAA5B,CAAkCF,IAAlC,CAApB,CAEA,KAAKM,QAAL,GACH,C,mEAEsB,CACnBC,oBAAoB,CAAC,KAAKC,SAAN,CAApB,CACA,KAAKC,iBAAL,GACH,C,0CAEQC,K,CAAO,iBACZH,oBAAoB,CAAC,KAAKC,SAAN,CAApB,CACA,KAAKA,SAAL,CAAiBG,qBAAqB,CAAC,SAACC,SAAD,CAAe,CAClD,GAAI,CAACF,KAAL,CAAY,CACR,MAAI,CAACD,iBAAL,GACA,MAAI,CAACI,MAAL,CAAcC,4BAAmBC,uBAAnB,EAAd,CAEAL,KAAK,CAAGE,SAAR,CACH,CAGD,GAAMI,CAAAA,KAAK,CAAG,CAACJ,SAAS,CAAGF,KAAb,EAAsB,MAAI,CAACb,KAAL,CAAWoB,iBAA/C,CAGA,GAAID,KAAK,CAAG,CAAZ,CAAe,CAEX,MAAI,CAACE,SAAL,CAAeC,cAAf,CAA8B,CAAEpB,CAAC,CAAE,MAAI,CAACC,IAAV,CAA9B,EAEA,MAAI,CAACS,iBAAL,GACA,OACH,CAED,GAAMV,CAAAA,CAAC,CAAG,MAAI,CAACI,YAAL,CAAkBa,KAAlB,CAAV,CACA,MAAI,CAACE,SAAL,CAAeC,cAAf,CAA8B,CAAEpB,CAAC,CAADA,CAAF,CAA9B,EAOA,MAAI,CAACqB,QAAL,CAAc,MAAI,CAACtB,KAAnB,CAA0B,UAAM,CAC5B,MAAI,CAACQ,QAAL,CAAcI,KAAd,EACH,CAFD,EAGH,CA/BqC,CAAtC,CAgCH,C,6DAEmB,CAChB,GAAI,KAAKG,MAAT,CAAiB,CACbC,4BAAmBO,sBAAnB,CAA0C,KAAKR,MAA/C,EACA,KAAKA,MAAL,CAAc,IAAd,CACH,CACJ,C,uCAEQ,iBACL,MACI,8BAAC,oBAAD,wBACI,GAAG,CAAE,aAACS,IAAD,QAAU,CAAA,MAAI,CAACJ,SAAL,CAAiBI,IAA3B,EADT,EAEQ,KAAKzB,KAFb,EAGI,CAAC,CAAE,KAAKA,KAAL,CAAWI,OAAX,CAAqB,KAAKH,KAAL,CAAWC,CAAhC,CAAoC,KAAKF,KAAL,CAAWE,CAHtD,GADJ,CAOH,C,0BAnFsBwB,gB,EAsF3B3B,YAAY,CAAC4B,SAAb,gBACIvB,OAAO,CAAEwB,mBAAUC,IADvB,CAEIT,iBAAiB,CAAEQ,mBAAUE,MAFjC,CAGIC,iBAAiB,CAAEH,mBAAUI,IAHjC,EAIOC,qBAAKN,SAJZ,EAOA5B,YAAY,CAACmC,YAAb,CAA4B,CACxB9B,OAAO,CAAE,KADe,CAExBgB,iBAAiB,CAAE,GAFK,CAGxBW,iBAAiB,CAAE,mCAAM,KAAN,EAHK,CAA5B,C,aAMehC,Y","sourcesContent":["import React, { Component } from 'react'\nimport { InteractionManager } from 'react-native'\nimport PropTypes from 'prop-types'\nimport { Path } from 'react-native-svg'\nimport * as interpolate from 'd3-interpolate-path'\n\nclass AnimatedPath extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = { d: props.d }\n    }\n\n    componentDidUpdate(props) {\n        const { d: newD, animate } = this.props\n        const { d: oldD } = props\n\n        this.newD = newD\n\n        if (newD === oldD) {\n            return\n        }\n\n        if (!animate || newD === null || oldD === null) {\n            return\n        }\n\n        this.newD = newD\n        this.interpolator = interpolate.interpolatePath(oldD, newD)\n\n        this._animate()\n    }\n\n    componentWillUnmount() {\n        cancelAnimationFrame(this.animation)\n        this._clearInteraction()\n    }\n\n    _animate(start) {\n        cancelAnimationFrame(this.animation)\n        this.animation = requestAnimationFrame((timestamp) => {\n            if (!start) {\n                this._clearInteraction()\n                this.handle = InteractionManager.createInteractionHandle()\n\n                start = timestamp\n            }\n\n            // Get the delta on how far long in our animation we are.\n            const delta = (timestamp - start) / this.props.animationDuration\n\n            // If we're above 1 then our animation should be complete.\n            if (delta > 1) {\n                // Just to be safe set our final value to the new graph path.\n                this.component.setNativeProps({ d: this.newD })\n                // Stop our animation loop.\n                this._clearInteraction()\n                return\n            }\n\n            const d = this.interpolator(delta)\n            this.component.setNativeProps({ d })\n            // console.log(this.interpolator)\n            // this.tween && console.log(this.tween.tween(delta))\n            // Tween the SVG path value according to what delta we're currently at.\n\n            // Update our state with the new tween value and then jump back into\n            // this loop.\n            this.setState(this.state, () => {\n                this._animate(start)\n            })\n        })\n    }\n\n    _clearInteraction() {\n        if (this.handle) {\n            InteractionManager.clearInteractionHandle(this.handle)\n            this.handle = null\n        }\n    }\n\n    render() {\n        return (\n            <Path\n                ref={(ref) => (this.component = ref)}\n                {...this.props}\n                d={this.props.animate ? this.state.d : this.props.d}\n            />\n        )\n    }\n}\n\nAnimatedPath.propTypes = {\n    animate: PropTypes.bool,\n    animationDuration: PropTypes.number,\n    renderPlaceholder: PropTypes.func,\n    ...Path.propTypes,\n}\n\nAnimatedPath.defaultProps = {\n    animate: false,\n    animationDuration: 300,\n    renderPlaceholder: () => null,\n}\n\nexport default AnimatedPath\n"]},"metadata":{},"sourceType":"script"}