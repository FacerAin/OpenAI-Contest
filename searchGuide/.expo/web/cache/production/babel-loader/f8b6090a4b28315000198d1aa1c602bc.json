{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var assistance=[[\"완벽해요!\",\"키워드가 완벽해요!\",\"맞춤법을 신경써주세요.\",\"세종대왕님이 울고 계십니다.\"],[\"맞춤법이 완벽해요!\",\"훌륭하지만 맞춤법과 키워드 둘 다 완벽하지는 않네요.\",\"맞춤법이 부족하지만 키워드를 잘 찾으시네요.\",\"세종대왕님이 울고 계십니다.\"],[\"키워드를 신경써주세요.\",\"키워드가 부족하지만 맞춤법을 잘 맞추시네요.\",\"키워드와 맞춤법 둘 다 부족하시네요.\",\"둘 다 부족하지만 키워드가 조금 더 낫네요.\"],[\"키워드 점수가 많이 부족하십니다.\",\"키워드 점수가 많이 부족하십니다.\",\"둘 다 부족하지만 맞춤법이 조금 더 낫네요.\",\"개선이 많이 필요해 보입니다.\"]];var getComment=function getComment(fixScore,keywordScore){var fixPos,morpPos;if(fixScore==30){fixPos=0;}else if(fixScore>=25&&fixScore<30){fixPos=1;}else if(fixScore>=15&&fixScore<25){fixPos=2;}else{fixPos=3;}if(keywordScore==70){morpPos=0;}else if(keywordScore>=55&&keywordScore<69){morpPos=1;}else if(keywordScore>=30&&keywordScore<54){morpPos=2;}else{morpPos=3;}return assistance[morpPos][fixPos];};var _default=scoring=function scoring(return_data){if(return_data.originalText){var Text=return_data.originalText,lenNeed=return_data.morps.needMorp.length,lenNoNeed=return_data.morps.noNeedMorp.length,fixedText;try{fixedText=/span class=\\'result_underline\\'>(.*?)<\\/span>/g.exec(return_data.korean.origin_html)[1];}catch(err){fixedText=\"\";}var fixScore=Math.round((Text.length-fixedText.length)/Text.length*30),keywordScore=Math.round(lenNeed/(lenNoNeed+lenNeed)*70),fullScore=fixScore+keywordScore;var comment=getComment(fixScore,keywordScore);return{\"fix\":fixScore,\"key\":keywordScore,\"full\":fullScore,\"msg\":comment};}else{return{\"fix\":0,\"key\":0,\"full\":0,\"msg\":''};}};exports.default=_default;","map":{"version":3,"sources":["C:/Users/bluej/Desktop/2_2/searchGuide/searchGuide/lib/scoring.js"],"names":["assistance","getComment","fixScore","keywordScore","fixPos","morpPos","scoring","return_data","originalText","Text","lenNeed","morps","needMorp","length","lenNoNeed","noNeedMorp","fixedText","exec","korean","origin_html","err","Math","round","fullScore","comment"],"mappings":"gFAAA,GAAMA,CAAAA,UAAU,CAAG,CACf,CAAC,OAAD,CAAS,YAAT,CAAsB,cAAtB,CAAqC,iBAArC,CADe,CAEf,CAAC,YAAD,CAAc,+BAAd,CAA8C,0BAA9C,CAAyE,iBAAzE,CAFe,CAGf,CAAC,cAAD,CAAgB,0BAAhB,CAA2C,sBAA3C,CAAkE,0BAAlE,CAHe,CAIf,CAAC,oBAAD,CAAsB,oBAAtB,CAA2C,0BAA3C,CAAsE,kBAAtE,CAJe,CAAnB,CAOA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAEC,QAAF,CAAYC,YAAZ,CAA8B,CAC7C,GAAIC,CAAAA,MAAJ,CAAYC,OAAZ,CACA,GAAIH,QAAQ,EAAI,EAAhB,CAAqB,CACjBE,MAAM,CAAG,CAAT,CACH,CAFD,IAEO,IAAIF,QAAQ,EAAI,EAAZ,EAAkBA,QAAQ,CAAG,EAAjC,CAAsC,CACzCE,MAAM,CAAG,CAAT,CACH,CAFM,IAEA,IAAIF,QAAQ,EAAI,EAAZ,EAAkBA,QAAQ,CAAG,EAAjC,CAAsC,CACzCE,MAAM,CAAG,CAAT,CACH,CAFM,IAEA,CACHA,MAAM,CAAG,CAAT,CACH,CAED,GAAID,YAAY,EAAI,EAApB,CAAyB,CACrBE,OAAO,CAAG,CAAV,CACH,CAFD,IAEO,IAAIF,YAAY,EAAI,EAAhB,EAAsBA,YAAY,CAAG,EAAzC,CAA8C,CACjDE,OAAO,CAAG,CAAV,CACH,CAFM,IAEA,IAAIF,YAAY,EAAI,EAAhB,EAAsBA,YAAY,CAAG,EAAzC,CAA6C,CAChDE,OAAO,CAAG,CAAV,CACH,CAFM,IAEA,CACHA,OAAO,CAAG,CAAV,CACH,CACD,MAAOL,CAAAA,UAAU,CAACK,OAAD,CAAV,CAAoBD,MAApB,CAAP,CACH,CAtBD,C,aAwBeE,OAAO,CAAG,iBAAEC,WAAF,CAAmB,CACxC,GAAGA,WAAW,CAACC,YAAf,CAA4B,CACxB,GAAIC,CAAAA,IAAI,CAAGF,WAAW,CAACC,YAAvB,CACAE,OAAO,CAAGH,WAAW,CAACI,KAAZ,CAAkBC,QAAlB,CAA2BC,MADrC,CAEAC,SAAS,CAAGP,WAAW,CAACI,KAAZ,CAAkBI,UAAlB,CAA6BF,MAFzC,CAGAG,SAHA,CAIJ,GAAI,CACAA,SAAS,CAAG,iDAAiDC,IAAjD,CAAsDV,WAAW,CAACW,MAAZ,CAAmBC,WAAzE,EAAsF,CAAtF,CAAZ,CACH,CACD,MAAQC,GAAR,CAAc,CACVJ,SAAS,CAAG,EAAZ,CACH,CAED,GAAId,CAAAA,QAAQ,CAAGmB,IAAI,CAACC,KAAL,CAAc,CAAEb,IAAI,CAACI,MAAL,CAAcG,SAAS,CAACH,MAA1B,EAAqCJ,IAAI,CAACI,MAA5C,CAAuD,EAAnE,CAAf,CACIV,YAAY,CAAGkB,IAAI,CAACC,KAAL,CAAYZ,OAAO,EAAKI,SAAS,CAAGJ,OAAjB,CAAP,CAAoC,EAAhD,CADnB,CAEIa,SAAS,CAAGrB,QAAQ,CAAGC,YAF3B,CAIA,GAAIqB,CAAAA,OAAO,CAAGvB,UAAU,CAACC,QAAD,CAAUC,YAAV,CAAxB,CAEA,MAAO,CAAE,MAAQD,QAAV,CAAoB,MAAQC,YAA5B,CAA0C,OAASoB,SAAnD,CAA8D,MAAQC,OAAtE,CAAP,CACC,CAnBD,IAoBK,CACD,MAAO,CAAE,MAAQ,CAAV,CAAa,MAAQ,CAArB,CAAwB,OAAS,CAAjC,CAAoC,MAAQ,EAA5C,CAAP,CACH,CACJ,C","sourcesContent":["const assistance = [ \r\n    [\"완벽해요!\",\"키워드가 완벽해요!\",\"맞춤법을 신경써주세요.\",\"세종대왕님이 울고 계십니다.\"],\r\n    [\"맞춤법이 완벽해요!\",\"훌륭하지만 맞춤법과 키워드 둘 다 완벽하지는 않네요.\",\"맞춤법이 부족하지만 키워드를 잘 찾으시네요.\",\"세종대왕님이 울고 계십니다.\"],\r\n    [\"키워드를 신경써주세요.\",\"키워드가 부족하지만 맞춤법을 잘 맞추시네요.\",\"키워드와 맞춤법 둘 다 부족하시네요.\",\"둘 다 부족하지만 키워드가 조금 더 낫네요.\"],\r\n    [\"키워드 점수가 많이 부족하십니다.\",\"키워드 점수가 많이 부족하십니다.\",\"둘 다 부족하지만 맞춤법이 조금 더 낫네요.\",\"개선이 많이 필요해 보입니다.\"]\r\n]\r\n\r\nconst getComment = ( fixScore, keywordScore ) => {\r\n    let fixPos, morpPos;\r\n    if( fixScore == 30 ) {\r\n        fixPos = 0;\r\n    } else if( fixScore >= 25 && fixScore < 30 ) {\r\n        fixPos = 1;\r\n    } else if( fixScore >= 15 && fixScore < 25 ) {\r\n        fixPos = 2;\r\n    } else {\r\n        fixPos = 3;\r\n    }\r\n\r\n    if( keywordScore == 70 ) {\r\n        morpPos = 0;\r\n    } else if( keywordScore >= 55 && keywordScore < 69 ) {\r\n        morpPos = 1;\r\n    } else if( keywordScore >= 30 && keywordScore < 54 ){\r\n        morpPos = 2;\r\n    } else {\r\n        morpPos = 3;\r\n    }\r\n    return assistance[morpPos][fixPos];\r\n}\r\n\r\nexport default scoring = ( return_data ) => {\r\n    if(return_data.originalText){\r\n        let Text = return_data.originalText,\r\n        lenNeed = return_data.morps.needMorp.length,\r\n        lenNoNeed = return_data.morps.noNeedMorp.length,\r\n        fixedText;\r\n    try {\r\n        fixedText = /span class=\\'result_underline\\'>(.*?)<\\/span>/g.exec(return_data.korean.origin_html)[1]; \r\n    }\r\n    catch ( err ) {\r\n        fixedText = \"\";\r\n    }\r\n\r\n    let fixScore = Math.round( ( ( Text.length - fixedText.length ) / Text.length ) * 30 ), \r\n        keywordScore = Math.round( lenNeed / ( lenNoNeed + lenNeed ) * 70 ),\r\n        fullScore = fixScore + keywordScore;\r\n\r\n    let comment = getComment(fixScore,keywordScore);\r\n\r\n    return { \"fix\" : fixScore, \"key\" : keywordScore, \"full\" : fullScore, \"msg\" : comment};\r\n    }\r\n    else {\r\n        return { \"fix\" : 0, \"key\" : 0, \"full\" : 0, \"msg\" : ''} ;\r\n    }\r\n}\r\n    "]},"metadata":{},"sourceType":"script"}