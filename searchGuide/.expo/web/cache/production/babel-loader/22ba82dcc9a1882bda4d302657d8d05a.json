{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _fontfaceobserver=_interopRequireDefault(require(\"fontfaceobserver\"));var _default={get name(){return'ExpoFontLoader';},loadAsync:function loadAsync(fontFamilyName,resource){var canInjectStyle=document.head&&typeof document.head.appendChild==='function';if(!canInjectStyle){throw new Error('E_FONT_CREATION_FAILED : document element cannot support injecting fonts');}var style=_createWebStyle(fontFamilyName,resource);document.head.appendChild(style);return new _fontfaceobserver.default(fontFamilyName).load();}};exports.default=_default;function _createWebStyle(fontFamily,resource){var fontStyle=\"@font-face {\\n    font-family: \"+fontFamily+\";\\n    src: url(\"+resource+\");\\n  }\";var styleElement=document.createElement('style');styleElement.type='text/css';if(styleElement.styleSheet){styleElement.styleSheet.cssText=fontStyle;}else{var textNode=document.createTextNode(fontStyle);styleElement.appendChild(textNode);}return styleElement;}","map":{"version":3,"sources":["../src/ExpoFontLoader.web.ts"],"names":[],"mappings":"mKAAA,0E,aAEe,CACb,GAAI,CAAA,IAAJ,EAAQ,CACN,MAAO,gBAAP,CACD,CAHY,CAKb,SALa,oBAKH,cALG,CAKqB,QALrB,CAKqC,CAChD,GAAM,CAAA,cAAc,CAAG,QAAQ,CAAC,IAAT,EAAiB,MAAO,CAAA,QAAQ,CAAC,IAAT,CAAc,WAArB,GAAqC,UAA7E,CACA,GAAI,CAAC,cAAL,CAAqB,CACnB,KAAM,IAAI,CAAA,KAAJ,CAAU,0EAAV,CAAN,CACD,CAED,GAAM,CAAA,KAAK,CAAG,eAAe,CAAC,cAAD,CAAiB,QAAjB,CAA7B,CACA,QAAQ,CAAC,IAAT,CAAe,WAAf,CAA2B,KAA3B,EACA,MAAO,IAAI,0BAAJ,CAAiB,cAAjB,EAAiC,IAAjC,EAAP,CACD,CAdY,C,0BAiBf,QAAS,CAAA,eAAT,CAAyB,UAAzB,CAA6C,QAA7C,CAA6D,CAC3D,GAAM,CAAA,SAAS,mCACE,UADF,oBAEF,QAFE,UAAf,CAKA,GAAM,CAAA,YAAY,CAAG,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAArB,CACA,YAAY,CAAC,IAAb,CAAoB,UAApB,CAGA,GAAI,YAAY,CAAC,UAAjB,CAA6B,CAE3B,YAAY,CAAC,UAAb,CAAwB,OAAxB,CAAkC,SAAlC,CACD,CAHD,IAGO,CACL,GAAM,CAAA,QAAQ,CAAG,QAAQ,CAAC,cAAT,CAAwB,SAAxB,CAAjB,CACA,YAAY,CAAC,WAAb,CAAyB,QAAzB,EACD,CACD,MAAO,CAAA,YAAP,CACD","sourcesContent":["import FontObserver from 'fontfaceobserver';\n\nexport default {\n  get name(): string {\n    return 'ExpoFontLoader';\n  },\n\n  loadAsync(fontFamilyName: string, resource: string): Promise<void> {\n    const canInjectStyle = document.head && typeof document.head.appendChild === 'function';\n    if (!canInjectStyle) {\n      throw new Error('E_FONT_CREATION_FAILED : document element cannot support injecting fonts');\n    }\n\n    const style = _createWebStyle(fontFamilyName, resource);\n    document.head!.appendChild(style);\n    return new FontObserver(fontFamilyName).load();\n  },\n};\n\nfunction _createWebStyle(fontFamily: string, resource: string): HTMLStyleElement {\n  const fontStyle = `@font-face {\n    font-family: ${fontFamily};\n    src: url(${resource});\n  }`;\n\n  const styleElement = document.createElement('style');\n  styleElement.type = 'text/css';\n  // @ts-ignore: TypeScript does not define HTMLStyleElement::styleSheet. This is just for IE and\n  // possibly can be removed if it's unnecessary on IE 11.\n  if (styleElement.styleSheet) {\n    // @ts-ignore\n    styleElement.styleSheet.cssText = fontStyle;\n  } else {\n    const textNode = document.createTextNode(fontStyle);\n    styleElement.appendChild(textNode);\n  }\n  return styleElement;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}