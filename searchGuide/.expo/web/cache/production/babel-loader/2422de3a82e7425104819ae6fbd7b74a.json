{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _ExecutionEnvironment=require(\"fbjs/lib/ExecutionEnvironment\");var _Notifications=require(\"./Notifications\");var _ExponentNotificationsHelper=require(\"./ExponentNotificationsHelper.web\");if(_ExecutionEnvironment.canUseDOM&&'serviceWorker'in navigator){navigator.serviceWorker.addEventListener('message',function(event){(0,_Notifications.emitNotification)(event.data);});navigator.serviceWorker.addEventListener('pushsubscriptionchange',function _callee(event){return _regenerator.default.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap((0,_ExponentNotificationsHelper.getExponentPushTokenAsync)());case 2:case\"end\":return _context.stop();}}});});}","map":{"version":3,"sources":["../../src/Notifications/ExponentNotifications.fx.web.ts"],"names":[],"mappings":"kKAAA,mEACA,8CACA,8EAEA,GAAI,iCAAa,iBAAmB,CAAA,SAApC,CAA+C,CAC7C,SAAS,CAAC,aAAV,CAAwB,gBAAxB,CAAyC,SAAzC,CAAoD,SAAA,KAAK,CAAG,CAC1D,oCAAiB,KAAK,CAAC,IAAvB,EACD,CAFD,EAIA,SAAS,CAAC,aAAV,CAAwB,gBAAxB,CAAyC,wBAAzC,CAAmE,iBAAM,KAAN,sKAE3D,4DAF2D,gDAAnE,EAID","sourcesContent":["import { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport { emitNotification } from './Notifications';\nimport { getExponentPushTokenAsync } from './ExponentNotificationsHelper.web';\n\nif (canUseDOM && 'serviceWorker' in navigator) {\n  navigator.serviceWorker.addEventListener('message', event => {\n    emitNotification(event.data);\n  });\n\n  navigator.serviceWorker.addEventListener('pushsubscriptionchange', async event => {\n    // Updates Expo token with new device token.\n    await getExponentPushTokenAsync();\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}