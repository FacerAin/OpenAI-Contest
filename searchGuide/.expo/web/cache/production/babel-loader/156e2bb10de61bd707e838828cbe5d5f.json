{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var specificURL=['naver.com','google.com','namu.wiki','facebook.com','ko.wikipedia.org','youtube.com'];var _default=filter=function filter(JSONdata){JSONdata.return_data.searchResults.sort(function(a,b){return a.confidence>b.confidence?-1:a.confidence<b.confidence?1:0;});slicedata=Object.keys(JSONdata.return_data.searchResults).slice(0,10).reduce(function(result,key){result[key]=JSONdata.return_data.searchResults[key];return result;},{});var tempResult=Object.values(slicedata);tempResult.forEach(function(data){if(data.title.length>14){data.title=data.title.slice(0,15)+\"..\";}if(data.passage.length>125){data.passage=data.passage.slice(0,125)+\"..\";}specificURL.forEach(function(url){if(data.url.indexOf(url)!==-1){data.site=url;}});if(!data.site){data.site=\"etc\";}});return _objectSpread({},JSONdata,{return_data:_objectSpread({},JSONdata.return_data,{searchResults:tempResult})});};exports.default=_default;","map":{"version":3,"sources":["C:/Users/bluej/Desktop/2_2/searchGuide/searchGuide/lib/filter.js"],"names":["specificURL","filter","JSONdata","return_data","searchResults","sort","a","b","confidence","slicedata","Object","keys","slice","reduce","result","key","tempResult","values","forEach","data","title","length","passage","url","indexOf","site"],"mappings":"0hCAAA,GAAMA,CAAAA,WAAW,CAAG,CAAE,WAAF,CAAe,YAAf,CAA6B,WAA7B,CAA0C,cAA1C,CAA0D,kBAA1D,CAA6E,aAA7E,CAApB,C,aAEeC,MAAM,CAAG,gBAACC,QAAD,CAAc,CAClCA,QAAQ,CAACC,WAAT,CAAqBC,aAArB,CAAmCC,IAAnC,CAAyC,SAAEC,CAAF,CAAKC,CAAL,CAAY,CACjD,MAAOD,CAAAA,CAAC,CAACE,UAAF,CAAeD,CAAC,CAACC,UAAjB,CAA8B,CAAC,CAA/B,CAAmCF,CAAC,CAACE,UAAF,CAAeD,CAAC,CAACC,UAAjB,CAA8B,CAA9B,CAAkC,CAA5E,CACH,CAFD,EAGAC,SAAS,CAAGC,MAAM,CAACC,IAAP,CAAaT,QAAQ,CAACC,WAAT,CAAqBC,aAAlC,EAAkDQ,KAAlD,CAAyD,CAAzD,CAA4D,EAA5D,EAAiEC,MAAjE,CAAyE,SAACC,MAAD,CAASC,GAAT,CAAkB,CACnGD,MAAM,CAAEC,GAAF,CAAN,CAAgBb,QAAQ,CAACC,WAAT,CAAqBC,aAArB,CAAoCW,GAApC,CAAhB,CACA,MAAOD,CAAAA,MAAP,CACH,CAHW,CAGT,EAHS,CAAZ,CAKA,GAAIE,CAAAA,UAAU,CAAGN,MAAM,CAACO,MAAP,CAAeR,SAAf,CAAjB,CACAO,UAAU,CAACE,OAAX,CAAoB,SAAEC,IAAF,CAAY,CAC5B,GAAIA,IAAI,CAACC,KAAL,CAAWC,MAAX,CAAoB,EAAxB,CAA6B,CACzBF,IAAI,CAACC,KAAL,CAAaD,IAAI,CAACC,KAAL,CAAWR,KAAX,CAAkB,CAAlB,CAAqB,EAArB,EAA4B,IAAzC,CACH,CACD,GAAIO,IAAI,CAACG,OAAL,CAAaD,MAAb,CAAsB,GAA1B,CAAgC,CAC5BF,IAAI,CAACG,OAAL,CAAeH,IAAI,CAACG,OAAL,CAAaV,KAAb,CAAoB,CAApB,CAAuB,GAAvB,EAA+B,IAA9C,CACH,CACDZ,WAAW,CAACkB,OAAZ,CAAqB,SAAEK,GAAF,CAAW,CAC5B,GAAIJ,IAAI,CAACI,GAAL,CAASC,OAAT,CAAkBD,GAAlB,IAA4B,CAAC,CAAjC,CAAqC,CACjCJ,IAAI,CAACM,IAAL,CAAYF,GAAZ,CACH,CACJ,CAJD,EAKA,GAAI,CAACJ,IAAI,CAACM,IAAV,CAAiB,CACbN,IAAI,CAACM,IAAL,CAAY,KAAZ,CACH,CACJ,CAfD,EAgBA,wBAAavB,QAAb,EAAuBC,WAAW,kBAAOD,QAAQ,CAACC,WAAhB,EAA6BC,aAAa,CAAEY,UAA5C,EAAlC,GACH,C","sourcesContent":["const specificURL = [ 'naver.com', 'google.com', 'namu.wiki', 'facebook.com', 'ko.wikipedia.org','youtube.com' ];\r\n\r\nexport default filter = (JSONdata) => {\r\n    JSONdata.return_data.searchResults.sort( ( a, b ) => {\r\n        return a.confidence > b.confidence ? -1 : a.confidence < b.confidence ? 1 : 0;  \r\n    })\r\n    slicedata = Object.keys( JSONdata.return_data.searchResults ).slice( 0, 10 ).reduce( (result, key ) => {\r\n        result[ key ] = JSONdata.return_data.searchResults[ key ]\r\n        return result\r\n    }, {} );\r\n\r\n    let tempResult = Object.values( slicedata );\r\n    tempResult.forEach( ( data ) => {\r\n        if( data.title.length > 14 ) {\r\n            data.title = data.title.slice( 0, 15 ) + \"..\";\r\n        }\r\n        if( data.passage.length > 125 ) {\r\n            data.passage = data.passage.slice( 0, 125 ) + \"..\";\r\n        }\r\n        specificURL.forEach( ( url ) => {\r\n            if( data.url.indexOf( url ) !== -1 ) {\r\n                data.site = url;\r\n            }\r\n        });\r\n        if( !data.site ) {\r\n            data.site = \"etc\";\r\n        }\r\n    });\r\n    return ( {...JSONdata, return_data: { ...JSONdata.return_data, searchResults: tempResult } } );\r\n}"]},"metadata":{},"sourceType":"script"}