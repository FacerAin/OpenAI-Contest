{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _InternalAnimatedValue=_interopRequireDefault(require(\"../core/InternalAnimatedValue\"));var _Animation2=_interopRequireDefault(require(\"./Animation\"));var _SpringConfig=_interopRequireDefault(require(\"../SpringConfig\"));var _spring=_interopRequireDefault(require(\"./spring\"));var _base=require(\"../base\");var _AnimatedClock=_interopRequireDefault(require(\"../core/AnimatedClock\"));var _invariant=_interopRequireDefault(require(\"fbjs/lib/invariant\"));function withDefault(value,defaultValue){if(value===undefined||value===null){return defaultValue;}return value;}var SpringAnimation=function(_Animation){(0,_inherits2.default)(SpringAnimation,_Animation);function SpringAnimation(config){var _this;(0,_classCallCheck2.default)(this,SpringAnimation);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(SpringAnimation).call(this));_this._overshootClamping=withDefault(config.overshootClamping,false);_this._restDisplacementThreshold=withDefault(config.restDisplacementThreshold,0.001);_this._restSpeedThreshold=withDefault(config.restSpeedThreshold,0.001);_this._initialVelocity=withDefault(config.velocity,0);_this._lastVelocity=withDefault(config.velocity,0);_this._toValue=config.toValue;_this._delay=withDefault(config.delay,0);if(config.stiffness!==undefined||config.damping!==undefined||config.mass!==undefined){(0,_invariant.default)(config.bounciness===undefined&&config.speed===undefined&&config.tension===undefined&&config.friction===undefined,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');_this._stiffness=withDefault(config.stiffness,100);_this._damping=withDefault(config.damping,10);_this._mass=withDefault(config.mass,1);}else if(config.bounciness!==undefined||config.speed!==undefined){(0,_invariant.default)(config.tension===undefined&&config.friction===undefined&&config.stiffness===undefined&&config.damping===undefined&&config.mass===undefined,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var springConfig=_SpringConfig.default.fromBouncinessAndSpeed(withDefault(config.bounciness,8),withDefault(config.speed,12));_this._stiffness=springConfig.stiffness;_this._damping=springConfig.damping;_this._mass=1;}else{var _springConfig=_SpringConfig.default.fromOrigamiTensionAndFriction(withDefault(config.tension,40),withDefault(config.friction,7));_this._stiffness=_springConfig.stiffness;_this._damping=_springConfig.damping;_this._mass=1;}(0,_invariant.default)(_this._stiffness>0,'Stiffness value must be greater than 0');(0,_invariant.default)(_this._damping>0,'Damping value must be greater than 0');(0,_invariant.default)(_this._mass>0,'Mass value must be greater than 0');return _this;}(0,_createClass2.default)(SpringAnimation,[{key:\"start\",value:function start(value){this._clock=new _AnimatedClock.default();var state={finished:new _InternalAnimatedValue.default(0),velocity:new _InternalAnimatedValue.default(this._initialVelocity),position:value,time:new _InternalAnimatedValue.default(0)};var config={damping:this._damping,mass:this._mass,stiffness:this._stiffness,toValue:this._toValue,overshootClamping:this._overshootClamping,restSpeedThreshold:this._restSpeedThreshold,restDisplacementThreshold:this._restDisplacementThreshold};return(0,_base.block)([(0,_base.cond)((0,_base.clockRunning)(this._clock),0,[(0,_base.startClock)(this._clock)]),(0,_spring.default)(this._clock,state,config),(0,_base.cond)(state.finished,(0,_base.stopClock)(this._clock))]);}},{key:\"stop\",value:function stop(){}}],[{key:\"getDefaultState\",value:function getDefaultState(){return{position:new _InternalAnimatedValue.default(0),finished:new _InternalAnimatedValue.default(0),velocity:new _InternalAnimatedValue.default(0),time:new _InternalAnimatedValue.default(0)};}}]);return SpringAnimation;}(_Animation2.default);exports.default=SpringAnimation;","map":{"version":3,"sources":["C:/Users/bluej/Desktop/2_2/searchGuide/searchGuide/node_modules/react-native-reanimated/src/animations/SpringAnimation.js"],"names":["withDefault","value","defaultValue","undefined","SpringAnimation","config","_overshootClamping","overshootClamping","_restDisplacementThreshold","restDisplacementThreshold","_restSpeedThreshold","restSpeedThreshold","_initialVelocity","velocity","_lastVelocity","_toValue","toValue","_delay","delay","stiffness","damping","mass","bounciness","speed","tension","friction","_stiffness","_damping","_mass","springConfig","SpringConfig","fromBouncinessAndSpeed","fromOrigamiTensionAndFriction","_clock","Clock","state","finished","AnimatedValue","position","time","Animation"],"mappings":"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","sourcesContent":["import AnimatedValue from '../core/InternalAnimatedValue';\nimport Animation from './Animation';\nimport SpringConfig from '../SpringConfig';\nimport spring from './spring';\n\nimport { block, clockRunning, startClock, stopClock, cond } from '../base';\nimport Clock from '../core/AnimatedClock';\n\nimport invariant from 'fbjs/lib/invariant';\n\nfunction withDefault(value, defaultValue) {\n  if (value === undefined || value === null) {\n    return defaultValue;\n  }\n  return value;\n}\n\nexport default class SpringAnimation extends Animation {\n  constructor(config) {\n    super();\n\n    this._overshootClamping = withDefault(config.overshootClamping, false);\n    this._restDisplacementThreshold = withDefault(\n      config.restDisplacementThreshold,\n      0.001\n    );\n    this._restSpeedThreshold = withDefault(config.restSpeedThreshold, 0.001);\n    this._initialVelocity = withDefault(config.velocity, 0);\n    this._lastVelocity = withDefault(config.velocity, 0);\n    this._toValue = config.toValue;\n    this._delay = withDefault(config.delay, 0);\n\n    if (\n      config.stiffness !== undefined ||\n      config.damping !== undefined ||\n      config.mass !== undefined\n    ) {\n      invariant(\n        config.bounciness === undefined &&\n          config.speed === undefined &&\n          config.tension === undefined &&\n          config.friction === undefined,\n        'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'\n      );\n      this._stiffness = withDefault(config.stiffness, 100);\n      this._damping = withDefault(config.damping, 10);\n      this._mass = withDefault(config.mass, 1);\n    } else if (config.bounciness !== undefined || config.speed !== undefined) {\n      // Convert the origami bounciness/speed values to stiffness/damping\n      // We assume mass is 1.\n      invariant(\n        config.tension === undefined &&\n          config.friction === undefined &&\n          config.stiffness === undefined &&\n          config.damping === undefined &&\n          config.mass === undefined,\n        'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'\n      );\n      const springConfig = SpringConfig.fromBouncinessAndSpeed(\n        withDefault(config.bounciness, 8),\n        withDefault(config.speed, 12)\n      );\n      this._stiffness = springConfig.stiffness;\n      this._damping = springConfig.damping;\n      this._mass = 1;\n    } else {\n      // Convert the origami tension/friction values to stiffness/damping\n      // We assume mass is 1.\n      const springConfig = SpringConfig.fromOrigamiTensionAndFriction(\n        withDefault(config.tension, 40),\n        withDefault(config.friction, 7)\n      );\n      this._stiffness = springConfig.stiffness;\n      this._damping = springConfig.damping;\n      this._mass = 1;\n    }\n\n    invariant(this._stiffness > 0, 'Stiffness value must be greater than 0');\n    invariant(this._damping > 0, 'Damping value must be greater than 0');\n    invariant(this._mass > 0, 'Mass value must be greater than 0');\n  }\n\n  start(value) {\n    this._clock = new Clock();\n    const state = {\n      finished: new AnimatedValue(0),\n      velocity: new AnimatedValue(this._initialVelocity),\n      position: value,\n      time: new AnimatedValue(0),\n    };\n\n    const config = {\n      damping: this._damping,\n      mass: this._mass,\n      stiffness: this._stiffness,\n      toValue: this._toValue,\n      overshootClamping: this._overshootClamping,\n      restSpeedThreshold: this._restSpeedThreshold,\n      restDisplacementThreshold: this._restDisplacementThreshold,\n    };\n\n    return block([\n      cond(clockRunning(this._clock), 0, [startClock(this._clock)]),\n      spring(this._clock, state, config),\n      cond(state.finished, stopClock(this._clock)),\n    ]);\n  }\n\n  stop() {\n    // this._finished && this._finished.setValue(1);\n  }\n  static getDefaultState() {\n    return {\n      position: new AnimatedValue(0),\n      finished: new AnimatedValue(0),\n      velocity: new AnimatedValue(0),\n      time: new AnimatedValue(0),\n    };\n  }\n}\n"]},"metadata":{},"sourceType":"script"}